var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequire22cb;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequire22cb=i);var o=i("dXVlG");i("dXVlG"),i("dXVlG"),i("dXVlG"),i("dXVlG"),o=i("dXVlG");const r=document.querySelector(".favorite-ingredients-section__ingredients-list"),s=document.querySelector(".coctails-section__ingredient-modal"),d=document.querySelector(".coctails-section__ingredient-modal-backdrop");let a=0,c=[];try{0!==JSON.parse(localStorage.getItem("favoriteIngredients")).length&&(c=JSON.parse(localStorage.getItem("favoriteIngredients")))}catch{localStorage.setItem("favoriteIngredients",JSON.stringify(c))}let l="",g=0;const _=JSON.parse(localStorage.getItem("favoriteIngredients")).length;for(;g<_;g+=1){l=JSON.parse(localStorage.getItem("favoriteIngredients"))[g],(0,o.fetchCoctailOrIngredient)(`https://www.thecocktaildb.com/api/json/v1/1/search.php?i=${l}`).then((e=>{a+=1;const{ingredients:t}=e;let{strIngredient:n,strType:i}=t[0];i||(i="No ingredient type data :("),r.innerHTML+=`<li class="favorite-ingredients-section__ingredient">\n        <div class="favorite-ingredients-section__ingredient-card">\n          <h3 class="favorite-ingredients-section__card-title">${n}</h3>\n          <p class="favorite-ingredients-section__card-type">${i}</p>\n          <div class="ingredients-section__ingredient-buttons-container">\n            <button class="favorite-ingredients-section__button favorite-ingredients-section__learn-button" type="button">Learn more</button>\n            <button class="favorite-ingredients-section__button favorite-ingredients-section__favorite-button favorite-ingredients-section__like-button" type="button" id="likeBtn${a}">Add to</button>\n          </div>\n        </div>\n      </li>`,(0,o.checkFavoriteOrNot)(n,"favorite-ingredients-section__like-button","favorite-ingredients-section__dislike-button","Remove",a,"Ingredients");document.querySelectorAll(".favorite-ingredients-section__ingredient-card").forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget.querySelector(".favorite-ingredients-section__card-title").textContent;if((0,o.makeFavoriteOrNot)(e,"favorite-ingredients-section__like-button","favorite-ingredients-section__dislike-button",t,c,"Ingredients"),e.target.classList.contains("favorite-ingredients-section__learn-button")){const n=e.currentTarget.querySelector(".favorite-ingredients-section__favorite-button").getAttribute("id");(0,o.fetchCoctailOrIngredient)(`https://www.thecocktaildb.com/api/json/v1/1/search.php?i=${t}`).then((e=>{const t=e,{strAlcohol:i="",strDescription:r="",strIngredient:l="",strType:g=""}=t.ingredients[0];(0,o.ingredientModalMarckup)(s,l,r,g,i);const _=document.querySelector(".ingredient-modal__like-ingredient-btn");(0,o.checkFavoriteOrNot)(l,"ingredient-modal__like-ingredient-btn","ingredient-modal__dislike-ingredient-btn","Remove from favorites",a,"Ingredients"),_.addEventListener("click",(e=>{const t=l;(0,o.makeFavoriteOrNot)(e,"ingredient-modal__like-ingredient-btn","ingredient-modal__dislike-ingredient-btn",t,c,"Ingredients"),(0,o.modalButtonTextChange)(_,"favorite-ingredients-section__like-button");const i=document.querySelector(`#${n}`);i.classList.toggle("favorite-ingredients-section__like-button"),i.classList.toggle("favorite-ingredients-section__dislike-button"),i.classList.contains("favorite-ingredients-section__like-button")?i.textContent="Add to":i.textContent="Remove",_.classList.contains("ingredient-modal__like-ingredient-btn")&&(_.textContent="Add to favorite")})),(0,o.modalToggleHidden)(d,"coctails-section__ingredient-modal-backdrop--is-hidden",s,"coctails-section__ingredient-modal--is-hidden");const u=document.querySelector(".ingredient-modal__close-ingredient-btn");window.addEventListener("click",(e=>{e.target!==d&&e.target!==u||(s.classList.add("coctails-section__ingredient-modal--is-hidden"),d.classList.add("coctails-section__ingredient-modal-backdrop--is-hidden"))}))}))}}))}))}))}
//# sourceMappingURL=favorite-ingredients.1728fcda.js.map
